<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BS - App Factory & Code Library</title>
    <style>
        :root { --primary: #38bdf8; --secondary: #818cf8; --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; }
        body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; }
        
        /* Tabs */
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #334155; padding-bottom: 10px; }
        .tab { cursor: pointer; padding: 10px 20px; border-radius: 8px; font-weight: bold; background: #334155; transition: 0.3s; }
        .tab.active { background: var(--primary); color: var(--bg); }

        .panel { display: none; animation: fadeIn 0.3s ease; }
        .panel.active { display: block; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

        .card { background: var(--card); padding: 20px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.05); }
        input, textarea, select { width: 100%; padding: 12px; margin-top: 8px; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 10px; box-sizing: border-box; }
        
        .btn { background: var(--primary); color: #0f172a; border: none; padding: 15px; border-radius: 10px; cursor: pointer; width: 100%; font-weight: bold; margin-top: 15px; }
        .btn-save { background: #22c55e; color: white; }

        .list-item { background: #0f172a; padding: 15px; border-radius: 10px; margin-bottom: 10px; border-right: 4px solid var(--primary); cursor: pointer; position: relative; }
        .list-item:hover { background: #2d3748; }
        .delete-btn { position: absolute; left: 10px; top: 10px; color: #ef4444; cursor: pointer; font-size: 0.8rem; }

        #code-display { background: #000; padding: 15px; border-radius: 10px; border: 1px solid var(--primary); display: none; margin-top: 10px; }
        pre { white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: 0.85rem; color: #38bdf8; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <div class="tabs">
        <div class="tab active" onclick="showPanel('builder')">ğŸ”¨ ×‘×•× ×” ×”×¤×¨×•××¤×˜×™×</div>
        <div class="tab" onclick="showPanel('library')">ğŸ“š ×¡×¤×¨×™×™×ª ×§×•×“ ×•×¨×›×™×‘×™×</div>
    </div>

    <div id="builder" class="panel active">
        <div class="grid">
            <div class="card">
                <h3>×™×¦×™×¨×ª ×¤×¨×•×™×§×˜ ×—×“×©</h3>
                <input type="text" id="pName" placeholder="×©× ×”×¤×¨×•×™×§×˜">
                <textarea id="pDesc" rows="4" placeholder="×ª×™××•×¨ ×”××¤×œ×™×§×¦×™×”..."></textarea>
                <input type="text" id="pLink" placeholder="×§×™×©×•×¨ ×œ×’×¨×¡×” ×—×™×” (GitHub Link)">
                <button class="btn" onclick="generate()">×¦×•×¨ ×¤×¨×•××¤×˜ âœ¨</button>
                <button class="btn btn-save" onclick="saveProject()">×©××•×¨ ×¤×¨×•×™×§×˜ ×‘××—×¡×Ÿ ğŸ’¾</button>
            </div>
            <div class="card">
                <h3>ğŸ“‚ ××—×¡×Ÿ ×¤×¨×•×™×§×˜×™×</h3>
                <div id="project-list"></div>
                <div id="code-display"><pre id="prompt-out"></pre></div>
            </div>
        </div>
    </div>

    <div id="library" class="panel">
        <div class="grid">
            <div class="card">
                <h3>×©××™×¨×ª ×¨×›×™×‘ ×§×•×“ (Snippet)</h3>
                <input type="text" id="libName" placeholder="×©× ×”×¨×›×™×‘ (×œ××©×œ: ×—×•×ª××ª ×‘×•×¢×–)">
                <input type="text" id="libUsage" placeholder="××™×¤×” ××“×‘×™×§×™×? (×œ××©×œ: ×‘×¡×•×£ ×”-Body)">
                <textarea id="libCode" rows="8" placeholder="×”×“×‘×§ ×›××Ÿ ××ª ×”×§×•×“..."></textarea>
                <button class="btn btn-save" onclick="saveToLibrary()">×©××•×¨ ×œ×¡×¤×¨×™×™×” ğŸ“š</button>
            </div>
            <div class="card">
                <h3>ğŸ“š ×¨×›×™×‘×™× ×©××•×¨×™×</h3>
                <div id="library-list"></div>
            </div>
        </div>
    </div>
</div>

<script>
    let projects = JSON.parse(localStorage.getItem('bs_projects_v5') || '[]');
    let library = JSON.parse(localStorage.getItem('bs_library_v5') || '[]');

    function showPanel(id) {
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        event.target.classList.add('active');
    }

    function saveToLibrary() {
        const name = document.getElementById('libName').value
